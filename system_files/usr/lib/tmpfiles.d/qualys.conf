# Tmpfiles for Qualys Cloud Agent (bootc immutable OS)
# Runtime directories and symlinks for compatibility with /var being ephemeral at build-time

# Basic runtime dirs
d /var/log/qualys 0755 root root -
d /var/lib/qualys 0755 root root -
d /var/lib/qualys/cloud-agent 0755 root root -
d /var/cache/qualys 0755 root root -
d /run/qualys 0755 root root -

# Provide /var/usrlocal structure when images symlink /usr/local -> /var/usrlocal
# (compat path; not strictly required but helpful for some setups)
d /var/usrlocal 0755 root root -
d /var/usrlocal/qualys 0755 root root -

# Legacy/compatibility path expected by Qualys docs and tooling
# We expose agent from immutable /usr/libexec via a symlink
# Both runtime paths resolve to the same immutable content

d /var/opt 0755 root root -
d /var/opt/qualys 0755 root root -

# Directory symlinks to immutable payload location
L /var/usrlocal/qualys/cloud-agent - - - - /usr/libexec/qualys/cloud-agent
L /var/opt/qualys/cloud-agent - - - - /usr/libexec/qualys/cloud-agent

